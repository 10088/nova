---
upgrade:
  - |
    The libvirt virt driver will now attempt to record the machine type of an
    instance at startup and when launching an instance if the machine type is
    not already recorded in the image metadata associated with the instance.

    This machine type will then be used when the instance is restarted or
    migrated as it will now appear as an image metadata property associated
    with the instance.

    The following new ``nova-manage`` commands have been introduced to help
    operators manage the ``hw_machine_type`` image property:

    ``nova-manage libvirt get_machine_type``

    This command will print the current machine type if set in the image
    metadata of the instance.
